apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-dashboards
  namespace: vault-aio
  labels:
    grafana_dashboard: "1"
data:
  cluster-diagnostics.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Cluster Diagnostics\nReal-time health checks and troubleshooting information", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"vault\"}", "refId": "A"}],
          "title": "Vault",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 3, "y": 2},
          "id": 2,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"prometheus\"}", "refId": "A"}],
          "title": "Prometheus",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 6, "y": 2},
          "id": 3,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"loki\"}", "refId": "A"}],
          "title": "Loki",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 9, "y": 2},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"tempo\"}", "refId": "A"}],
          "title": "Tempo",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 12, "y": 2},
          "id": 5,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"alertmanager\"}", "refId": "A"}],
          "title": "Alertmanager",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 15, "y": 2},
          "id": 6,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"grafana\"}", "refId": "A"}],
          "title": "Grafana",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 18, "y": 2},
          "id": 7,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Host/Alloy",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 3, "x": 21, "y": 2},
          "id": 8,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up == 0) or vector(0)", "refId": "A"}],
          "title": "Down Count",
          "type": "stat"
        },
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 5}, "id": 200, "title": "Scrape Target Details", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"custom": {"displayMode": "auto"}}},
          "gridPos": {"h": 6, "w": 24, "x": 0, "y": 6},
          "id": 9,
          "options": {"showHeader": true, "sortBy": [{"desc": true, "displayName": "Value"}]},
          "targets": [{"expr": "up", "format": "table", "instant": true, "refId": "A"}],
          "title": "All Scrape Targets",
          "transformations": [
            {"id": "organize", "options": {"excludeByName": {"Time": true, "__name__": true}, "renameByName": {"Value": "Status (1=UP)", "instance": "Instance", "job": "Job"}}}
          ],
          "type": "table"
        },
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 12}, "id": 201, "title": "Prometheus Scrape Health", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "s"}},
          "gridPos": {"h": 6, "w": 12, "x": 0, "y": 13},
          "id": 10,
          "targets": [
            {"expr": "scrape_duration_seconds", "legendFormat": "{{job}}", "refId": "A"}
          ],
          "title": "Scrape Duration by Job",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "short"}},
          "gridPos": {"h": 6, "w": 12, "x": 12, "y": 13},
          "id": 11,
          "targets": [
            {"expr": "scrape_samples_scraped", "legendFormat": "{{job}}", "refId": "A"}
          ],
          "title": "Samples Scraped by Job",
          "type": "timeseries"
        },
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 19}, "id": 202, "title": "Log Collection Health", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "short"}},
          "gridPos": {"h": 6, "w": 12, "x": 0, "y": 20},
          "id": 12,
          "targets": [
            {"expr": "loki_ingester_streams_created_total - loki_ingester_streams_removed_total", "legendFormat": "Active Streams", "refId": "A"}
          ],
          "title": "Loki Active Streams",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "ops"}},
          "gridPos": {"h": 6, "w": 12, "x": 12, "y": 20},
          "id": 13,
          "targets": [
            {"expr": "rate(loki_distributor_lines_received_total[5m])", "legendFormat": "Lines Received/s", "refId": "A"},
            {"expr": "rate(loki_distributor_bytes_received_total[5m])", "legendFormat": "Bytes Received/s", "refId": "B"}
          ],
          "title": "Loki Ingestion Rate",
          "type": "timeseries"
        },
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 26}, "id": 203, "title": "Recent Logs by Source", "type": "row"},
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 4, "w": 24, "x": 0, "y": 27},
          "id": 14,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\"}", "refId": "A", "maxLines": 20}],
          "title": "All vault-aio Namespace Logs (Last 20)",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 4, "w": 24, "x": 0, "y": 31},
          "id": 15,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{job=~\".+\"}", "refId": "A", "maxLines": 20}],
          "title": "All Logs (Any Job - Last 20)",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "fieldConfig": {"defaults": {"custom": {"displayMode": "auto"}}},
          "gridPos": {"h": 5, "w": 24, "x": 0, "y": 35},
          "id": 16,
          "options": {"showHeader": true},
          "targets": [{"expr": "count_over_time({namespace=\"vault-aio\"}[1h])", "legendFormat": "", "refId": "A", "instant": true}],
          "title": "Log Count by Label (Last 1h)",
          "transformations": [{"id": "reduce", "options": {"reducers": ["sum"]}}],
          "type": "stat"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["diagnostics", "health", "troubleshooting"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "cluster-diagnostics",
      "uid": "cluster-diagnostics",
      "version": 1
    }
  cluster-network.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Cluster Network\nNetwork connectivity, throughput, and request latency", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Bps"}},
          "gridPos": {"h": 3, "w": 6, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "sum(rate(node_network_receive_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m]))", "refId": "A"}],
          "title": "Network RX",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Bps"}},
          "gridPos": {"h": 3, "w": 6, "x": 6, "y": 2},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "sum(rate(node_network_transmit_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m]))", "refId": "A"}],
          "title": "Network TX",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 0.1}, {"color": "red", "value": 0.5}]}, "unit": "s"}},
          "gridPos": {"h": 3, "w": 6, "x": 12, "y": 2},
          "id": 3,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "histogram_quantile(0.99, rate(prometheus_http_request_duration_seconds_bucket[5m]))", "refId": "A"}],
          "title": "Prometheus p99 Latency",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 0.1}, {"color": "red", "value": 0.5}]}, "unit": "s"}},
          "gridPos": {"h": 3, "w": 6, "x": 18, "y": 2},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "histogram_quantile(0.99, rate(loki_request_duration_seconds_bucket[5m]))", "refId": "A"}],
          "title": "Loki p99 Latency",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "s"}},
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 5},
          "id": 5,
          "targets": [
            {"expr": "histogram_quantile(0.50, rate(prometheus_http_request_duration_seconds_bucket[5m]))", "legendFormat": "Prometheus p50", "refId": "A"},
            {"expr": "histogram_quantile(0.95, rate(prometheus_http_request_duration_seconds_bucket[5m]))", "legendFormat": "Prometheus p95", "refId": "B"},
            {"expr": "histogram_quantile(0.99, rate(prometheus_http_request_duration_seconds_bucket[5m]))", "legendFormat": "Prometheus p99", "refId": "C"}
          ],
          "title": "Prometheus HTTP Latency",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "s"}},
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 5},
          "id": 6,
          "targets": [
            {"expr": "histogram_quantile(0.50, rate(loki_request_duration_seconds_bucket[5m]))", "legendFormat": "Loki p50", "refId": "A"},
            {"expr": "histogram_quantile(0.95, rate(loki_request_duration_seconds_bucket[5m]))", "legendFormat": "Loki p95", "refId": "B"},
            {"expr": "histogram_quantile(0.99, rate(loki_request_duration_seconds_bucket[5m]))", "legendFormat": "Loki p99", "refId": "C"}
          ],
          "title": "Loki Request Latency",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "Bps"}},
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 13},
          "id": 7,
          "targets": [
            {"expr": "rate(node_network_receive_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m])", "legendFormat": "{{device}} RX", "refId": "A"},
            {"expr": "rate(node_network_transmit_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m])", "legendFormat": "{{device}} TX", "refId": "B"}
          ],
          "title": "Network Throughput by Interface",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "pps"}},
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 13},
          "id": 8,
          "targets": [
            {"expr": "rate(node_network_receive_packets_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m])", "legendFormat": "{{device}} RX pkts", "refId": "A"},
            {"expr": "rate(node_network_transmit_packets_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m])", "legendFormat": "{{device}} TX pkts", "refId": "B"}
          ],
          "title": "Network Packets",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "short"}},
          "gridPos": {"h": 8, "w": 24, "x": 0, "y": 21},
          "id": 9,
          "targets": [
            {"expr": "node_sockstat_TCP_alloc{job=\"integrations/unix\"}", "legendFormat": "TCP Allocated", "refId": "A"},
            {"expr": "node_sockstat_TCP_inuse{job=\"integrations/unix\"}", "legendFormat": "TCP In Use", "refId": "B"},
            {"expr": "node_sockstat_UDP_inuse{job=\"integrations/unix\"}", "legendFormat": "UDP In Use", "refId": "C"},
            {"expr": "node_sockstat_sockets_used{job=\"integrations/unix\"}", "legendFormat": "Total Sockets", "refId": "D"}
          ],
          "title": "Socket Statistics",
          "type": "timeseries"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "tags": ["cluster", "network", "monitoring"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "cluster-network",
      "uid": "cluster-network",
      "version": 1
    }
  cluster-overview.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": null,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "red", "value": null},
                  {"color": "green", "value": 1}
                ]
              }
            }
          },
          "gridPos": {"h": 4, "w": 4, "x": 0, "y": 0},
          "id": 1,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "value_and_name"
          },
          "targets": [
            {
              "expr": "count(up{job=\"kubernetes-pods\"})",
              "legendFormat": "Pods Monitored",
              "refId": "A"
            }
          ],
          "title": "Monitored Pods",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null}
                ]
              }
            }
          },
          "gridPos": {"h": 4, "w": 4, "x": 4, "y": 0},
          "id": 2,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "value_and_name"
          },
          "targets": [
            {
              "expr": "count(up{job=~\".*\"}==1)",
              "legendFormat": "Targets Up",
              "refId": "A"
            }
          ],
          "title": "Healthy Targets",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null},
                  {"color": "red", "value": 1}
                ]
              }
            }
          },
          "gridPos": {"h": 4, "w": 4, "x": 8, "y": 0},
          "id": 3,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "value_and_name"
          },
          "targets": [
            {
              "expr": "count(up{job=~\".*\"}==0) or vector(0)",
              "legendFormat": "Targets Down",
              "refId": "A"
            }
          ],
          "title": "Unhealthy Targets",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null}
                ]
              }
            }
          },
          "gridPos": {"h": 4, "w": 4, "x": 12, "y": 0},
          "id": 4,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "value_and_name"
          },
          "targets": [
            {
              "expr": "count(ALERTS{alertstate=\"firing\"}) or vector(0)",
              "legendFormat": "Firing Alerts",
              "refId": "A"
            }
          ],
          "title": "Active Alerts",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "UP", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "red", "value": null},
                  {"color": "green", "value": 1}
                ]
              }
            }
          },
          "gridPos": {"h": 4, "w": 4, "x": 16, "y": 0},
          "id": 5,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "value"
          },
          "targets": [
            {
              "expr": "up{job=\"vault\"}",
              "legendFormat": "Vault",
              "refId": "A"
            }
          ],
          "title": "Vault Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "UP", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "red", "value": null},
                  {"color": "green", "value": 1}
                ]
              }
            }
          },
          "gridPos": {"h": 4, "w": 4, "x": 20, "y": 0},
          "id": 6,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "value"
          },
          "targets": [
            {
              "expr": "up{job=\"integrations/unix\"}",
              "legendFormat": "Node Exporter",
              "refId": "A"
            }
          ],
          "title": "Host Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "short"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
          "id": 7,
          "options": {"legend": {"displayMode": "table", "placement": "right"}},
          "targets": [
            {
              "expr": "up",
              "legendFormat": "{{job}} - {{instance}}",
              "refId": "A"
            }
          ],
          "title": "All Targets Status",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "ops"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
          "id": 8,
          "targets": [
            {
              "expr": "rate(prometheus_http_requests_total[5m])",
              "legendFormat": "{{handler}}",
              "refId": "A"
            }
          ],
          "title": "Prometheus HTTP Requests",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "bytes"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
          "id": 9,
          "targets": [
            {
              "expr": "prometheus_tsdb_head_series",
              "legendFormat": "Head Series",
              "refId": "A"
            },
            {
              "expr": "prometheus_tsdb_head_samples_appended_total",
              "legendFormat": "Samples Appended",
              "refId": "B"
            }
          ],
          "title": "Prometheus TSDB Stats",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "bytes"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
          "id": 10,
          "targets": [
            {
              "expr": "process_resident_memory_bytes{job=\"prometheus\"}",
              "legendFormat": "Prometheus",
              "refId": "A"
            },
            {
              "expr": "process_resident_memory_bytes{job=\"loki\"}",
              "legendFormat": "Loki",
              "refId": "B"
            },
            {
              "expr": "process_resident_memory_bytes{job=\"tempo\"}",
              "legendFormat": "Tempo",
              "refId": "C"
            },
            {
              "expr": "process_resident_memory_bytes{job=\"alertmanager\"}",
              "legendFormat": "Alertmanager",
              "refId": "D"
            }
          ],
          "title": "Service Memory Usage",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 10, "w": 24, "x": 0, "y": 20},
          "id": 11,
          "options": {
            "dedupStrategy": "none",
            "enableLogDetails": true,
            "prettifyLogMessage": false,
            "showCommonLabels": false,
            "showLabels": true,
            "showTime": true,
            "sortOrder": "Descending",
            "wrapLogMessage": false
          },
          "targets": [
            {
              "expr": "{namespace=\"vault-aio\"} |~ \"error|Error|ERROR|warn|Warn|WARN|fail|Fail|FAIL\"",
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "Recent Errors & Warnings (All Pods)",
          "type": "logs"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "style": "dark",
      "tags": ["kubernetes", "cluster", "troubleshooting"],
      "templating": {"list": []},
      "time": {"from": "now-1h", "to": "now"},
      "timepicker": {},
      "timezone": "",
      "title": "cluster-overview",
      "uid": "cluster-overview",
      "version": 1
    }
  cluster-resources.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Cluster Resources\nCPU, memory, and storage utilization across all services", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 20, "lineWidth": 1, "pointSize": 5, "showPoints": "never", "stacking": {"mode": "normal"}}, "unit": "bytes"}},
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 2},
          "id": 1,
          "targets": [
            {"expr": "go_memstats_heap_inuse_bytes{job=\"vault\"}", "legendFormat": "Vault", "refId": "A"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"prometheus\"}", "legendFormat": "Prometheus", "refId": "B"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"loki\"}", "legendFormat": "Loki", "refId": "C"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"tempo\"}", "legendFormat": "Tempo", "refId": "D"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"alertmanager\"}", "legendFormat": "Alertmanager", "refId": "E"}
          ],
          "title": "Service Heap Memory (Stacked)",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "percentunit"}},
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 2},
          "id": 2,
          "targets": [
            {"expr": "rate(process_cpu_seconds_total{job=\"vault\"}[5m])", "legendFormat": "Vault", "refId": "A"},
            {"expr": "rate(process_cpu_seconds_total{job=\"prometheus\"}[5m])", "legendFormat": "Prometheus", "refId": "B"},
            {"expr": "rate(process_cpu_seconds_total{job=\"loki\"}[5m])", "legendFormat": "Loki", "refId": "C"},
            {"expr": "rate(process_cpu_seconds_total{job=\"tempo\"}[5m])", "legendFormat": "Tempo", "refId": "D"},
            {"expr": "rate(process_cpu_seconds_total{job=\"alertmanager\"}[5m])", "legendFormat": "Alertmanager", "refId": "E"}
          ],
          "title": "Service CPU Usage",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 70}, {"color": "red", "value": 90}]}, "unit": "percent", "max": 100}},
          "gridPos": {"h": 4, "w": 4, "x": 0, "y": 10},
          "id": 3,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "100 * (1 - (node_memory_MemAvailable_bytes{job=\"integrations/unix\"} / node_memory_MemTotal_bytes{job=\"integrations/unix\"}))", "refId": "A"}],
          "title": "Host Memory %",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 70}, {"color": "red", "value": 90}]}, "unit": "percent", "max": 100}},
          "gridPos": {"h": 4, "w": 4, "x": 4, "y": 10},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "100 * (1 - (node_filesystem_avail_bytes{job=\"integrations/unix\",mountpoint=\"/\"} / node_filesystem_size_bytes{job=\"integrations/unix\",mountpoint=\"/\"}))", "refId": "A"}],
          "title": "Host Disk %",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 4, "w": 4, "x": 8, "y": 10},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_memory_MemTotal_bytes{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Total Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 4, "w": 4, "x": 12, "y": 10},
          "id": 6,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_filesystem_size_bytes{job=\"integrations/unix\",mountpoint=\"/\"}", "refId": "A"}],
          "title": "Total Disk",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 4, "w": 4, "x": 16, "y": 10},
          "id": 7,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(node_cpu_seconds_total{job=\"integrations/unix\",mode=\"idle\"})", "refId": "A"}],
          "title": "CPU Cores",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "s"}},
          "gridPos": {"h": 4, "w": 4, "x": 20, "y": 10},
          "id": 8,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_time_seconds{job=\"integrations/unix\"} - node_boot_time_seconds{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Host Uptime",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "bytes"}},
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 14},
          "id": 9,
          "targets": [
            {"expr": "node_memory_MemTotal_bytes{job=\"integrations/unix\"} - node_memory_MemAvailable_bytes{job=\"integrations/unix\"}", "legendFormat": "Used", "refId": "A"},
            {"expr": "node_memory_MemAvailable_bytes{job=\"integrations/unix\"}", "legendFormat": "Available", "refId": "B"},
            {"expr": "node_memory_Cached_bytes{job=\"integrations/unix\"}", "legendFormat": "Cached", "refId": "C"}
          ],
          "title": "Host Memory",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "percentunit"}},
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 14},
          "id": 10,
          "targets": [
            {"expr": "1 - avg(rate(node_cpu_seconds_total{job=\"integrations/unix\",mode=\"idle\"}[5m]))", "legendFormat": "CPU Usage", "refId": "A"}
          ],
          "title": "Host CPU Usage",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "Bps"}},
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 22},
          "id": 11,
          "targets": [
            {"expr": "rate(node_network_receive_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m])", "legendFormat": "{{device}} RX", "refId": "A"},
            {"expr": "-rate(node_network_transmit_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m])", "legendFormat": "{{device}} TX", "refId": "B"}
          ],
          "title": "Network I/O",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "Bps"}},
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 22},
          "id": 12,
          "targets": [
            {"expr": "rate(node_disk_read_bytes_total{job=\"integrations/unix\"}[5m])", "legendFormat": "{{device}} Read", "refId": "A"},
            {"expr": "-rate(node_disk_written_bytes_total{job=\"integrations/unix\"}[5m])", "legendFormat": "{{device}} Write", "refId": "B"}
          ],
          "title": "Disk I/O",
          "type": "timeseries"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "tags": ["cluster", "resources", "monitoring"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "cluster-resources",
      "uid": "cluster-resources",
      "version": 1
    }
  cluster-services-health.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": null,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "gridPos": {"h": 2, "w": 24, "x": 0, "y": 0},
          "id": 100,
          "options": {"content": "# Services Health Dashboard\nReal-time status of all Vault AIO services", "mode": "markdown"},
          "title": "",
          "type": "text"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "HEALTHY", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
            }
          },
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"vault\"}", "legendFormat": "", "refId": "A"}],
          "title": "Vault",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "HEALTHY", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
            }
          },
          "gridPos": {"h": 3, "w": 4, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"prometheus\"}", "legendFormat": "", "refId": "A"}],
          "title": "Prometheus",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "HEALTHY", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
            }
          },
          "gridPos": {"h": 3, "w": 4, "x": 8, "y": 2},
          "id": 3,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"loki\"}", "legendFormat": "", "refId": "A"}],
          "title": "Loki",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "HEALTHY", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
            }
          },
          "gridPos": {"h": 3, "w": 4, "x": 12, "y": 2},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"tempo\"}", "legendFormat": "", "refId": "A"}],
          "title": "Tempo",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "HEALTHY", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
            }
          },
          "gridPos": {"h": 3, "w": 4, "x": 16, "y": 2},
          "id": 5,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"alertmanager\"}", "legendFormat": "", "refId": "A"}],
          "title": "Alertmanager",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [
                {"options": {"1": {"text": "HEALTHY", "color": "green"}}, "type": "value"},
                {"options": {"0": {"text": "DOWN", "color": "red"}}, "type": "value"}
              ],
              "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}
            }
          },
          "gridPos": {"h": 3, "w": 4, "x": 20, "y": 2},
          "id": 6,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"integrations/unix\"}", "legendFormat": "", "refId": "A"}],
          "title": "Host VM",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"},
              "unit": "s"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 5},
          "id": 7,
          "targets": [
            {"expr": "histogram_quantile(0.99, rate(prometheus_http_request_duration_seconds_bucket[5m]))", "legendFormat": "Prometheus p99", "refId": "A"},
            {"expr": "histogram_quantile(0.99, rate(loki_request_duration_seconds_bucket[5m]))", "legendFormat": "Loki p99", "refId": "B"}
          ],
          "title": "Service Latency (p99)",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"},
              "unit": "ops"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 5},
          "id": 8,
          "targets": [
            {"expr": "rate(loki_ingester_streams_created_total[5m])", "legendFormat": "Loki Streams Created", "refId": "A"},
            {"expr": "rate(loki_distributor_lines_received_total[5m])", "legendFormat": "Loki Lines Received", "refId": "B"}
          ],
          "title": "Loki Ingestion Rate",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"},
              "unit": "ops"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 13},
          "id": 9,
          "targets": [
            {"expr": "rate(tempo_distributor_spans_received_total[5m])", "legendFormat": "Spans Received", "refId": "A"},
            {"expr": "rate(tempo_ingester_traces_created_total[5m])", "legendFormat": "Traces Created", "refId": "B"}
          ],
          "title": "Tempo Trace Ingestion",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"},
              "unit": "short"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 13},
          "id": 10,
          "targets": [
            {"expr": "alertmanager_alerts{state=\"active\"}", "legendFormat": "Active Alerts", "refId": "A"},
            {"expr": "alertmanager_alerts{state=\"suppressed\"}", "legendFormat": "Suppressed", "refId": "B"}
          ],
          "title": "Alertmanager Alerts",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"},
              "unit": "bytes"
            }
          },
          "gridPos": {"h": 8, "w": 24, "x": 0, "y": 21},
          "id": 11,
          "targets": [
            {"expr": "go_memstats_heap_inuse_bytes{job=\"prometheus\"}", "legendFormat": "Prometheus Heap", "refId": "A"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"loki\"}", "legendFormat": "Loki Heap", "refId": "B"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"tempo\"}", "legendFormat": "Tempo Heap", "refId": "C"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"alertmanager\"}", "legendFormat": "Alertmanager Heap", "refId": "D"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"vault\"}", "legendFormat": "Vault Heap", "refId": "E"}
          ],
          "title": "Go Heap Memory (All Services)",
          "type": "timeseries"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "style": "dark",
      "tags": ["services", "health", "monitoring"],
      "templating": {"list": []},
      "time": {"from": "now-1h", "to": "now"},
      "timepicker": {},
      "timezone": "",
      "title": "cluster-services-health",
      "uid": "cluster-services-health",
      "version": 1
    }
  logs-alertmanager.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Alertmanager Logs\nAlert routing, grouping, and notification handling", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"alertmanager\"}", "refId": "A"}],
          "title": "Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}, {"color": "red", "value": 5}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 5, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "alertmanager_alerts{state=\"active\"}", "refId": "A"}],
          "title": "Active Alerts",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "blue", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 5, "x": 9, "y": 2},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "alertmanager_alerts{state=\"suppressed\"}", "refId": "A"}],
          "title": "Suppressed",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 5, "x": 14, "y": 2},
          "id": 4,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(alertmanager_notifications_total[5m])", "refId": "A"}],
          "title": "Notifications/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 3, "w": 5, "x": 19, "y": 2},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "go_memstats_heap_inuse_bytes{job=\"alertmanager\"}", "refId": "A"}],
          "title": "Heap Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 18, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"alertmanager.*\"}", "refId": "A"}],
          "title": "Alertmanager Logs",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "alertmanager"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-alertmanager",
      "uid": "logs-alertmanager",
      "version": 1
    }
  logs-alloy.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Alloy Logs\nTelemetry collector - log shipping, metrics scraping, and host monitoring", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 5, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "alloy_component_controller_running_components or vector(0)", "refId": "A"}],
          "title": "Running Components",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 5, "x": 9, "y": 2},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(loki_write_sent_bytes_total[5m])", "refId": "A"}],
          "title": "Logs Sent (Bps)",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 5, "x": 14, "y": 2},
          "id": 4,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "alloy_component_controller_evaluating_components or vector(0)", "refId": "A"}],
          "title": "Evaluating",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 3, "w": 5, "x": 19, "y": 2},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "go_memstats_heap_inuse_bytes{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Heap Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 18, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"alloy.*\"}", "refId": "A"}],
          "title": "Alloy Logs",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "alloy"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-alloy",
      "uid": "logs-alloy",
      "version": 1
    }
  logs-errors.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Cluster Errors\nAll error-level logs across the vault-aio namespace", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 6, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up == 0) or vector(0)", "refId": "A"}],
          "title": "Services Down",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}, {"color": "red", "value": 5}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 6, "x": 6, "y": 2},
          "id": 2,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "alertmanager_alerts{state=\"active\"} or vector(0)", "refId": "A"}],
          "title": "Active Alerts",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 0.01}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 6, "x": 12, "y": 2},
          "id": 3,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_core_handle_request_count{error=\"true\"}[5m]) or vector(0)", "refId": "A"}],
          "title": "Vault Errors/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 0.01}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 6, "x": 18, "y": 2},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(prometheus_target_scrape_pools_failed_total[5m]) or vector(0)", "refId": "A"}],
          "title": "Scrape Failures/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 8, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\"} |~ \"(?i)(error|err|failed|failure|fatal|panic|crash|exception)\"", "refId": "A"}],
          "title": "All Errors",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 0, "y": 13},
          "id": 11,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"vault.*\"} |~ \"(?i)(error|err|failed|failure|fatal|panic)\"", "refId": "A"}],
          "title": "Vault Errors",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 12, "y": 13},
          "id": 12,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"prometheus.*\"} |~ \"(?i)(error|err|failed|failure|fatal|panic)\"", "refId": "A"}],
          "title": "Prometheus Errors",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 0, "y": 20},
          "id": 13,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"loki.*\"} |~ \"(?i)(error|err|failed|failure|fatal|panic)\"", "refId": "A"}],
          "title": "Loki Errors",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 12, "y": 20},
          "id": 14,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"(tempo|alertmanager|grafana|alloy).*\"} |~ \"(?i)(error|err|failed|failure|fatal|panic)\"", "refId": "A"}],
          "title": "Other Services Errors",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "errors", "troubleshooting"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-errors",
      "uid": "logs-errors",
      "version": 1
    }
  logs-grafana.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Grafana Logs\nDashboard server - visualization, alerting, and data source queries", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"grafana\"}", "refId": "A"}],
          "title": "Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 5, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "grafana_stat_totals_dashboard or vector(0)", "refId": "A"}],
          "title": "Dashboards",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 5, "x": 9, "y": 2},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(grafana_http_request_duration_seconds_count[5m])", "refId": "A"}],
          "title": "Requests/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 5, "x": 14, "y": 2},
          "id": 4,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "grafana_stat_total_users or vector(0)", "refId": "A"}],
          "title": "Users",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 3, "w": 5, "x": 19, "y": 2},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "go_memstats_heap_inuse_bytes{job=\"grafana\"}", "refId": "A"}],
          "title": "Heap Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 18, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"grafana.*\"}", "refId": "A"}],
          "title": "Grafana Logs",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "grafana"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-grafana",
      "uid": "logs-grafana",
      "version": 1
    }
  logs-loki.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Loki Logs\nLog aggregation system - ingestion, storage, and query logs", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"loki\"}", "refId": "A"}],
          "title": "Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 5, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "loki_ingester_streams_created_total - loki_ingester_streams_removed_total", "refId": "A"}],
          "title": "Active Streams",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 5, "x": 9, "y": 2},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(loki_distributor_lines_received_total[5m])", "refId": "A"}],
          "title": "Lines/s Ingested",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Bps"}},
          "gridPos": {"h": 3, "w": 5, "x": 14, "y": 2},
          "id": 4,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(loki_distributor_bytes_received_total[5m])", "refId": "A"}],
          "title": "Bytes/s Ingested",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 3, "w": 5, "x": 19, "y": 2},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "process_resident_memory_bytes{job=\"loki\"}", "refId": "A"}],
          "title": "Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 18, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"loki.*\"}", "refId": "A"}],
          "title": "Loki Logs",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "loki"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-loki",
      "uid": "logs-loki",
      "version": 1
    }
  logs-prometheus.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Prometheus Logs\nMetrics collection, scraping, and alerting engine logs", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"prometheus\"}", "refId": "A"}],
          "title": "Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "prometheus_tsdb_head_series", "refId": "A"}],
          "title": "Time Series",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 8, "y": 2},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up)", "refId": "A"}],
          "title": "Targets",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 12, "y": 2},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up == 0) or vector(0)", "refId": "A"}],
          "title": "Targets Down",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 16, "y": 2},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(prometheus_tsdb_head_samples_appended_total[5m])", "refId": "A"}],
          "title": "Samples/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 3, "w": 4, "x": 20, "y": 2},
          "id": 6,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "process_resident_memory_bytes{job=\"prometheus\"}", "refId": "A"}],
          "title": "Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 18, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"prometheus.*\"}", "refId": "A"}],
          "title": "Prometheus Logs",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "prometheus"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-prometheus",
      "uid": "logs-prometheus",
      "version": 1
    }
  logs-tempo.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Tempo Logs\nDistributed tracing backend - span ingestion and trace storage", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"tempo\"}", "refId": "A"}],
          "title": "Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 5, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(tempo_distributor_spans_received_total[5m])", "refId": "A"}],
          "title": "Spans/s Received",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 5, "x": 9, "y": 2},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(tempo_ingester_traces_created_total[5m])", "refId": "A"}],
          "title": "Traces/s Created",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Bps"}},
          "gridPos": {"h": 3, "w": 5, "x": 14, "y": 2},
          "id": 4,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(tempo_distributor_bytes_received_total[5m])", "refId": "A"}],
          "title": "Bytes/s Ingested",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 3, "w": 5, "x": 19, "y": 2},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "go_memstats_heap_inuse_bytes{job=\"tempo\"}", "refId": "A"}],
          "title": "Heap Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 18, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"tempo.*\"}", "refId": "A"}],
          "title": "Tempo Logs",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "tempo"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-tempo",
      "uid": "logs-tempo",
      "version": 1
    }
  logs-vault.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Vault Logs\nHashiCorp Vault audit events, authentication, and operations", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"0": {"text": "SEALED", "color": "red"}, "1": {"text": "UNSEALED", "color": "green"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "vault_core_unsealed{job=\"vault\"}", "refId": "A"}],
          "title": "Seal Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 4, "y": 2},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "vault_token_count{job=\"vault\"}", "refId": "A"}],
          "title": "Active Tokens",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 8, "y": 2},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_core_handle_request_count{job=\"vault\"}[5m])", "refId": "A"}],
          "title": "Requests/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 0.1}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 12, "y": 2},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_core_handle_request_count{job=\"vault\",error=\"true\"}[5m]) or vector(0)", "refId": "A"}],
          "title": "Errors/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "s"}},
          "gridPos": {"h": 3, "w": 4, "x": 16, "y": 2},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "process_uptime_seconds{job=\"vault\"}", "refId": "A"}],
          "title": "Uptime",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "bytes"}},
          "gridPos": {"h": 3, "w": 4, "x": 20, "y": 2},
          "id": 6,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "go_memstats_heap_inuse_bytes{job=\"vault\"}", "refId": "A"}],
          "title": "Heap Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 18, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"vault.*\"}", "refId": "A"}],
          "title": "Vault Logs",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "vault"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-vault",
      "uid": "logs-vault",
      "version": 1
    }
  logs-warnings.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Cluster Warnings\nAll warning-level logs across the vault-aio namespace", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 6, "x": 0, "y": 2},
          "id": 1,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up)", "refId": "A"}],
          "title": "Total Targets",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 6, "x": 6, "y": 2},
          "id": 2,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up == 0) or vector(0)", "refId": "A"}],
          "title": "Unhealthy Targets",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 0.8}]}, "unit": "percentunit"}},
          "gridPos": {"h": 3, "w": 6, "x": 12, "y": 2},
          "id": 3,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "1 - (node_memory_MemAvailable_bytes{job=\"integrations/unix\"} / node_memory_MemTotal_bytes{job=\"integrations/unix\"})", "refId": "A"}],
          "title": "Host Memory Used",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 0.8}]}, "unit": "percentunit"}},
          "gridPos": {"h": 3, "w": 6, "x": 18, "y": 2},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "1 - (node_filesystem_avail_bytes{job=\"integrations/unix\",mountpoint=\"/\"} / node_filesystem_size_bytes{job=\"integrations/unix\",mountpoint=\"/\"})", "refId": "A"}],
          "title": "Host Disk Used",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 8, "w": 24, "x": 0, "y": 5},
          "id": 10,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\"} |~ \"(?i)(warn|warning|deprecated|timeout|retry|slow)\" !~ \"(?i)(error|err|failed|failure|fatal|panic)\"", "refId": "A"}],
          "title": "All Warnings",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 0, "y": 13},
          "id": 11,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"vault.*\"} |~ \"(?i)(warn|warning|deprecated|timeout|retry)\" !~ \"(?i)(error|failed|fatal)\"", "refId": "A"}],
          "title": "Vault Warnings",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 12, "y": 13},
          "id": 12,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"prometheus.*\"} |~ \"(?i)(warn|warning|deprecated|timeout|retry)\" !~ \"(?i)(error|failed|fatal)\"", "refId": "A"}],
          "title": "Prometheus Warnings",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 0, "y": 20},
          "id": 13,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"loki.*\"} |~ \"(?i)(warn|warning|deprecated|timeout|retry)\" !~ \"(?i)(error|failed|fatal)\"", "refId": "A"}],
          "title": "Loki Warnings",
          "type": "logs"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 7, "w": 12, "x": 12, "y": 20},
          "id": 14,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false"},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"(tempo|alertmanager|grafana|alloy).*\"} |~ \"(?i)(warn|warning|deprecated|timeout|retry)\" !~ \"(?i)(error|failed|fatal)\"", "refId": "A"}],
          "title": "Other Services Warnings",
          "type": "logs"
        }
      ],
      "refresh": "10s",
      "schemaVersion": 38,
      "tags": ["logs", "warnings", "troubleshooting"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "logs-warnings",
      "uid": "logs-warnings",
      "version": 1
    }
  metrics-host-vm.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": null,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null},
                  {"color": "yellow", "value": 70},
                  {"color": "red", "value": 90}
                ]
              },
              "unit": "percent"
            }
          },
          "gridPos": {"h": 6, "w": 6, "x": 0, "y": 0},
          "id": 1,
          "options": {
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "targets": [
            {
              "expr": "100 - (avg(irate(node_cpu_seconds_total{job=\"integrations/unix\",mode=\"idle\"}[5m])) * 100)",
              "legendFormat": "CPU Usage",
              "refId": "A"
            }
          ],
          "title": "CPU Usage",
          "type": "gauge"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null},
                  {"color": "yellow", "value": 70},
                  {"color": "red", "value": 90}
                ]
              },
              "unit": "percent"
            }
          },
          "gridPos": {"h": 6, "w": 6, "x": 6, "y": 0},
          "id": 2,
          "options": {
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "targets": [
            {
              "expr": "(1 - (node_memory_MemAvailable_bytes{job=\"integrations/unix\"} / node_memory_MemTotal_bytes{job=\"integrations/unix\"})) * 100",
              "legendFormat": "Memory Usage",
              "refId": "A"
            }
          ],
          "title": "Memory Usage",
          "type": "gauge"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "thresholds"},
              "mappings": [],
              "max": 100,
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null},
                  {"color": "yellow", "value": 70},
                  {"color": "red", "value": 85}
                ]
              },
              "unit": "percent"
            }
          },
          "gridPos": {"h": 6, "w": 6, "x": 12, "y": 0},
          "id": 3,
          "options": {
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "showThresholdLabels": false,
            "showThresholdMarkers": true
          },
          "targets": [
            {
              "expr": "(1 - (node_filesystem_avail_bytes{job=\"integrations/unix\",mountpoint=\"/\"} / node_filesystem_size_bytes{job=\"integrations/unix\",mountpoint=\"/\"})) * 100",
              "legendFormat": "Disk Usage",
              "refId": "A"
            }
          ],
          "title": "Disk Usage (/)",
          "type": "gauge"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "mappings": [],
              "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]},
              "unit": "s"
            }
          },
          "gridPos": {"h": 6, "w": 6, "x": 18, "y": 0},
          "id": 4,
          "targets": [
            {
              "expr": "node_time_seconds{job=\"integrations/unix\"} - node_boot_time_seconds{job=\"integrations/unix\"}",
              "legendFormat": "Uptime",
              "refId": "A"
            }
          ],
          "title": "System Uptime",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "percent"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 6},
          "id": 5,
          "targets": [
            {
              "expr": "100 - (avg by (mode)(irate(node_cpu_seconds_total{job=\"integrations/unix\",mode=\"idle\"}[5m])) * 100)",
              "legendFormat": "{{mode}}",
              "refId": "A"
            }
          ],
          "title": "CPU Usage Over Time",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "bytes"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 6},
          "id": 6,
          "targets": [
            {
              "expr": "node_memory_MemTotal_bytes{job=\"integrations/unix\"}",
              "legendFormat": "Total",
              "refId": "A"
            },
            {
              "expr": "node_memory_MemTotal_bytes{job=\"integrations/unix\"} - node_memory_MemAvailable_bytes{job=\"integrations/unix\"}",
              "legendFormat": "Used",
              "refId": "B"
            },
            {
              "expr": "node_memory_Cached_bytes{job=\"integrations/unix\"}",
              "legendFormat": "Cached",
              "refId": "C"
            }
          ],
          "title": "Memory Usage Over Time",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "Bps"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 14},
          "id": 7,
          "targets": [
            {
              "expr": "rate(node_network_receive_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br-.*|cni.*\"}[5m])",
              "legendFormat": "{{device}} RX",
              "refId": "A"
            },
            {
              "expr": "-rate(node_network_transmit_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br-.*|cni.*\"}[5m])",
              "legendFormat": "{{device}} TX",
              "refId": "B"
            }
          ],
          "title": "Network Traffic",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "Bps"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 14},
          "id": 8,
          "targets": [
            {
              "expr": "rate(node_disk_read_bytes_total{job=\"integrations/unix\"}[5m])",
              "legendFormat": "{{device}} Read",
              "refId": "A"
            },
            {
              "expr": "-rate(node_disk_written_bytes_total{job=\"integrations/unix\"}[5m])",
              "legendFormat": "{{device}} Write",
              "refId": "B"
            }
          ],
          "title": "Disk I/O",
          "type": "timeseries"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "style": "dark",
      "tags": ["system", "vm", "node"],
      "templating": {"list": []},
      "time": {"from": "now-1h", "to": "now"},
      "timepicker": {},
      "timezone": "",
      "title": "metrics-host-vm",
      "uid": "metrics-host-vm",
      "version": 1
    }
  metrics-vault.json: |
    {
      "annotations": {
        "list": []
      },
      "editable": true,
      "fiscalYearStartMonth": 0,
      "graphTooltip": 0,
      "id": null,
      "links": [],
      "liveNow": false,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {"options": {"0": {"text": "SEALED", "color": "red"}}, "type": "value"},
                {"options": {"1": {"text": "UNSEALED", "color": "green"}}, "type": "value"}
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "red", "value": null},
                  {"color": "green", "value": 1}
                ]
              }
            }
          },
          "gridPos": {"h": 4, "w": 6, "x": 0, "y": 0},
          "id": 1,
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "auto"
          },
          "pluginVersion": "10.2.2",
          "targets": [
            {
              "expr": "vault_core_unsealed{job=\"vault\"}",
              "legendFormat": "Seal Status",
              "refId": "A"
            }
          ],
          "title": "Vault Seal Status",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null}
                ]
              },
              "unit": "short"
            }
          },
          "gridPos": {"h": 4, "w": 6, "x": 6, "y": 0},
          "id": 2,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "reduceOptions": {"calcs": ["lastNotNull"], "fields": "", "values": false},
            "textMode": "auto"
          },
          "targets": [
            {
              "expr": "vault_token_count{job=\"vault\"}",
              "legendFormat": "Active Tokens",
              "refId": "A"
            }
          ],
          "title": "Active Tokens",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {"color": "green", "value": null}
                ]
              },
              "unit": "s"
            }
          },
          "gridPos": {"h": 4, "w": 6, "x": 12, "y": 0},
          "id": 3,
          "targets": [
            {
              "expr": "process_uptime_seconds{job=\"vault\"}",
              "legendFormat": "Uptime",
              "refId": "A"
            }
          ],
          "title": "Vault Uptime",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {"group": "A", "mode": "none"}
              },
              "unit": "ops"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 4},
          "id": 4,
          "targets": [
            {
              "expr": "rate(vault_core_handle_request_count[5m])",
              "legendFormat": "Total Requests",
              "refId": "A"
            },
            {
              "expr": "rate(vault_core_handle_request_count{error=\"true\"}[5m])",
              "legendFormat": "Errors",
              "refId": "B"
            }
          ],
          "title": "Request Rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never",
                "spanNulls": false
              },
              "unit": "s"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 4},
          "id": 5,
          "targets": [
            {
              "expr": "histogram_quantile(0.99, rate(vault_core_handle_request_bucket[5m]))",
              "legendFormat": "p99",
              "refId": "A"
            },
            {
              "expr": "histogram_quantile(0.95, rate(vault_core_handle_request_bucket[5m]))",
              "legendFormat": "p95",
              "refId": "B"
            },
            {
              "expr": "histogram_quantile(0.50, rate(vault_core_handle_request_bucket[5m]))",
              "legendFormat": "p50",
              "refId": "C"
            }
          ],
          "title": "Request Latency",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "ops"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 0, "y": 12},
          "id": 6,
          "targets": [
            {
              "expr": "rate(vault_token_create_count[5m])",
              "legendFormat": "Token Create",
              "refId": "A"
            },
            {
              "expr": "rate(vault_token_revoke_count[5m])",
              "legendFormat": "Token Revoke",
              "refId": "B"
            },
            {
              "expr": "rate(vault_token_lookup_count[5m])",
              "legendFormat": "Token Lookup",
              "refId": "C"
            }
          ],
          "title": "Token Operations",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "fieldConfig": {
            "defaults": {
              "color": {"mode": "palette-classic"},
              "custom": {
                "drawStyle": "line",
                "fillOpacity": 10,
                "lineWidth": 1,
                "pointSize": 5,
                "showPoints": "never"
              },
              "unit": "ops"
            }
          },
          "gridPos": {"h": 8, "w": 12, "x": 12, "y": 12},
          "id": 7,
          "targets": [
            {
              "expr": "rate(vault_secret_kv_count[5m])",
              "legendFormat": "KV Operations",
              "refId": "A"
            },
            {
              "expr": "rate(vault_secret_lease_creation_count[5m])",
              "legendFormat": "Lease Creation",
              "refId": "B"
            }
          ],
          "title": "Secret Operations",
          "type": "timeseries"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "style": "dark",
      "tags": ["vault", "secrets"],
      "templating": {"list": []},
      "time": {"from": "now-1h", "to": "now"},
      "timepicker": {},
      "timezone": "",
      "title": "metrics-vault",
      "uid": "metrics-vault",
      "version": 1
    }
  overview-main.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Vault AIO Overview\nComplete status of VM, Kubernetes cluster, and all applications", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 2}, "id": 200, "title": " Host VM Status", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "ONLINE", "color": "green"}, "0": {"text": "OFFLINE", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 3, "w": 3, "x": 0, "y": 3},
          "id": 1,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "VM Status",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 70}, {"color": "red", "value": 85}]}, "unit": "percent", "max": 100, "min": 0}},
          "gridPos": {"h": 3, "w": 3, "x": 3, "y": 3},
          "id": 2,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "100 - (avg(irate(node_cpu_seconds_total{job=\"integrations/unix\",mode=\"idle\"}[5m])) * 100)", "refId": "A"}],
          "title": "CPU",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 70}, {"color": "red", "value": 85}]}, "unit": "percent", "max": 100, "min": 0}},
          "gridPos": {"h": 3, "w": 3, "x": 6, "y": 3},
          "id": 3,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "100 * (1 - (node_memory_MemAvailable_bytes{job=\"integrations/unix\"} / node_memory_MemTotal_bytes{job=\"integrations/unix\"}))", "refId": "A"}],
          "title": "Memory",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 70}, {"color": "red", "value": 85}]}, "unit": "percent", "max": 100, "min": 0}},
          "gridPos": {"h": 3, "w": 3, "x": 9, "y": 3},
          "id": 4,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "100 * (1 - (node_filesystem_avail_bytes{job=\"integrations/unix\",mountpoint=\"/\"} / node_filesystem_size_bytes{job=\"integrations/unix\",mountpoint=\"/\"}))", "refId": "A"}],
          "title": "Disk",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "decbytes"}},
          "gridPos": {"h": 3, "w": 3, "x": 12, "y": 3},
          "id": 5,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_memory_MemTotal_bytes{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Total RAM",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "s"}},
          "gridPos": {"h": 3, "w": 3, "x": 15, "y": 3},
          "id": 6,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_time_seconds{job=\"integrations/unix\"} - node_boot_time_seconds{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Uptime",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Bps"}},
          "gridPos": {"h": 3, "w": 3, "x": 18, "y": 3},
          "id": 7,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "sum(rate(node_network_receive_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m]))", "refId": "A"}],
          "title": "Net In",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "Bps"}},
          "gridPos": {"h": 3, "w": 3, "x": 21, "y": 3},
          "id": 8,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "sum(rate(node_network_transmit_bytes_total{job=\"integrations/unix\",device!~\"lo|veth.*|docker.*|br.*\"}[5m]))", "refId": "A"}],
          "title": "Net Out",
          "type": "stat"
        },
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 6}, "id": 201, "title": " Kubernetes Cluster", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 3, "x": 0, "y": 7},
          "id": 10,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up)", "refId": "A"}],
          "title": "Total Targets",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 3, "x": 3, "y": 7},
          "id": 11,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up == 1)", "refId": "A"}],
          "title": "Healthy",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 3, "x": 6, "y": 7},
          "id": 12,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "count(up == 0) or vector(0)", "refId": "A"}],
          "title": "Down",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 1}, {"color": "red", "value": 5}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 3, "x": 9, "y": 7},
          "id": 13,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "alertmanager_alerts{state=\"active\"} or vector(0)", "refId": "A"}],
          "title": "Active Alerts",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 3, "x": 12, "y": 7},
          "id": 14,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "prometheus_tsdb_head_series", "refId": "A"}],
          "title": "Time Series",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 3, "x": 15, "y": 7},
          "id": 15,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(prometheus_tsdb_head_samples_appended_total[5m])", "refId": "A"}],
          "title": "Samples/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 3, "x": 18, "y": 7},
          "id": 16,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(loki_distributor_lines_received_total[5m])", "refId": "A"}],
          "title": "Logs/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 3, "x": 21, "y": 7},
          "id": 17,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(tempo_distributor_spans_received_total[5m])", "refId": "A"}],
          "title": "Traces/s",
          "type": "stat"
        },
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 10}, "id": 202, "title": " Application Services", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"0": {"text": "SEALED", "color": "red"}, "1": {"text": "UNSEALED", "color": "green"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 4, "w": 4, "x": 0, "y": 11},
          "id": 20,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "vault_core_unsealed{job=\"vault\"} or up{job=\"vault\"} * 0", "refId": "A"}],
          "title": "Vault",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 4, "w": 4, "x": 4, "y": 11},
          "id": 21,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"prometheus\"}", "refId": "A"}],
          "title": "Prometheus",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 4, "w": 4, "x": 8, "y": 11},
          "id": 22,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"grafana\"}", "refId": "A"}],
          "title": "Grafana",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 4, "w": 4, "x": 12, "y": 11},
          "id": 23,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"loki\"}", "refId": "A"}],
          "title": "Loki",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 4, "w": 4, "x": 16, "y": 11},
          "id": 24,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"tempo\"}", "refId": "A"}],
          "title": "Tempo",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "mappings": [{"options": {"1": {"text": "UP", "color": "green"}, "0": {"text": "DOWN", "color": "red"}}, "type": "value"}], "thresholds": {"mode": "absolute", "steps": [{"color": "red", "value": null}, {"color": "green", "value": 1}]}}},
          "gridPos": {"h": 4, "w": 4, "x": 20, "y": 11},
          "id": 25,
          "options": {"colorMode": "background", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "up{job=\"alertmanager\"}", "refId": "A"}],
          "title": "Alertmanager",
          "type": "stat"
        },
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 15}, "id": 203, "title": " Resource Usage", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 20, "lineWidth": 1, "pointSize": 5, "showPoints": "never", "stacking": {"mode": "normal"}}, "unit": "bytes"}},
          "gridPos": {"h": 7, "w": 12, "x": 0, "y": 16},
          "id": 30,
          "targets": [
            {"expr": "go_memstats_heap_inuse_bytes{job=\"vault\"}", "legendFormat": "Vault", "refId": "A"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"prometheus\"}", "legendFormat": "Prometheus", "refId": "B"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"loki\"}", "legendFormat": "Loki", "refId": "C"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"tempo\"}", "legendFormat": "Tempo", "refId": "D"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"alertmanager\"}", "legendFormat": "Alertmanager", "refId": "E"},
            {"expr": "go_memstats_heap_inuse_bytes{job=\"grafana\"}", "legendFormat": "Grafana", "refId": "F"}
          ],
          "title": "Service Memory (Stacked)",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "percentunit"}},
          "gridPos": {"h": 7, "w": 12, "x": 12, "y": 16},
          "id": 31,
          "targets": [
            {"expr": "rate(process_cpu_seconds_total{job=\"vault\"}[5m])", "legendFormat": "Vault", "refId": "A"},
            {"expr": "rate(process_cpu_seconds_total{job=\"prometheus\"}[5m])", "legendFormat": "Prometheus", "refId": "B"},
            {"expr": "rate(process_cpu_seconds_total{job=\"loki\"}[5m])", "legendFormat": "Loki", "refId": "C"},
            {"expr": "rate(process_cpu_seconds_total{job=\"tempo\"}[5m])", "legendFormat": "Tempo", "refId": "D"}
          ],
          "title": "Service CPU Usage",
          "type": "timeseries"
        },
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 23}, "id": 204, "title": " Recent Errors & Warnings", "type": "row"},
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 6, "w": 24, "x": 0, "y": 24},
          "id": 40,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\"} |~ \"(?i)(error|err|failed|failure|fatal|panic|warn|warning)\"", "refId": "A"}],
          "title": "Errors & Warnings (All Services)",
          "type": "logs"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "tags": ["overview", "main", "status"],
      "time": {"from": "now-1h", "to": "now"},
      "title": "overview-main",
      "uid": "overview-main",
      "version": 1
    }
  security-logins.json: |
    {
      "annotations": {"list": []},
      "editable": true,
      "id": null,
      "links": [],
      "panels": [
        {"gridPos": {"h": 2, "w": 24, "x": 0, "y": 0}, "id": 100, "options": {"content": "# Login & Authentication Tracking\nSSH access, Vault authentication, and security events", "mode": "markdown"}, "title": "", "transparent": true, "type": "text"},
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 2}, "id": 200, "title": " Vault Authentication", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 3},
          "id": 1,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "vault_token_count{job=\"vault\"}", "refId": "A"}],
          "title": "Active Tokens",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 4, "y": 3},
          "id": 2,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_token_create_count[5m])", "refId": "A"}],
          "title": "Token Creates/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 8, "y": 3},
          "id": 3,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_token_lookup_count[5m])", "refId": "A"}],
          "title": "Token Lookups/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 12, "y": 3},
          "id": 4,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_token_revoke_count[5m])", "refId": "A"}],
          "title": "Token Revokes/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}, {"color": "red", "value": 0.01}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 16, "y": 3},
          "id": 5,
          "options": {"colorMode": "background", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_core_handle_login_request{error=\"true\"}[5m]) or vector(0)", "refId": "A"}],
          "title": "Failed Logins/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 4, "x": 20, "y": 3},
          "id": 6,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(vault_core_handle_login_request[5m])", "refId": "A"}],
          "title": "Login Requests/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "ops"}},
          "gridPos": {"h": 6, "w": 12, "x": 0, "y": 6},
          "id": 7,
          "targets": [
            {"expr": "rate(vault_token_create_count[5m])", "legendFormat": "Token Create", "refId": "A"},
            {"expr": "rate(vault_token_revoke_count[5m])", "legendFormat": "Token Revoke", "refId": "B"},
            {"expr": "rate(vault_token_lookup_count[5m])", "legendFormat": "Token Lookup", "refId": "C"}
          ],
          "title": "Vault Token Operations",
          "type": "timeseries"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "palette-classic"}, "custom": {"drawStyle": "line", "fillOpacity": 10, "lineWidth": 1, "pointSize": 5, "showPoints": "never"}, "unit": "ops"}},
          "gridPos": {"h": 6, "w": 12, "x": 12, "y": 6},
          "id": 8,
          "targets": [
            {"expr": "rate(vault_core_handle_login_request[5m])", "legendFormat": "Login Requests", "refId": "A"},
            {"expr": "rate(vault_core_handle_login_request{error=\"true\"}[5m])", "legendFormat": "Failed Logins", "refId": "B"}
          ],
          "title": "Vault Login Requests",
          "type": "timeseries"
        },
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 12}, "id": 201, "title": " SSH & System Authentication", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 0, "y": 13},
          "id": 10,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_procs_running{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Running Procs",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 4, "y": 13},
          "id": 11,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_sockstat_TCP_alloc{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "TCP Connections",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 8, "y": 13},
          "id": 12,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_filefd_allocated{job=\"integrations/unix\"}", "refId": "A"}],
          "title": "Open Files",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 4, "x": 12, "y": 13},
          "id": 13,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "node_logged_users{job=\"integrations/unix\"} or vector(0)", "refId": "A"}],
          "title": "Logged Users",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 8, "w": 24, "x": 0, "y": 16},
          "id": 14,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{job=~\".+\"} |~ \"(?i)(sshd|login|auth|session opened|session closed|accepted|failed|invalid user|authentication failure|pam_unix)\"", "refId": "A"}],
          "title": "SSH & PAM Authentication Logs",
          "type": "logs"
        },
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 24}, "id": 202, "title": " Web Authentication (Grafana/ArgoCD)", "type": "row"},
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "short"}},
          "gridPos": {"h": 3, "w": 6, "x": 0, "y": 25},
          "id": 20,
          "options": {"colorMode": "value", "graphMode": "none", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "grafana_stat_total_users or vector(0)", "refId": "A"}],
          "title": "Grafana Users",
          "type": "stat"
        },
        {
          "datasource": {"type": "prometheus", "uid": "prometheus"},
          "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"mode": "absolute", "steps": [{"color": "green", "value": null}]}, "unit": "ops"}},
          "gridPos": {"h": 3, "w": 6, "x": 6, "y": 25},
          "id": 21,
          "options": {"colorMode": "value", "graphMode": "area", "justifyMode": "center", "orientation": "auto", "reduceOptions": {"calcs": ["lastNotNull"]}, "textMode": "value"},
          "targets": [{"expr": "rate(grafana_http_request_duration_seconds_count{handler=\"/login\"}[5m])", "refId": "A"}],
          "title": "Grafana Login Req/s",
          "type": "stat"
        },
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 8, "w": 24, "x": 0, "y": 28},
          "id": 22,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{namespace=\"vault-aio\", pod=~\"grafana.*|argocd.*\"} |~ \"(?i)(login|logout|auth|session|user|password|credential|access denied|forbidden|unauthorized)\"", "refId": "A"}],
          "title": "Grafana & ArgoCD Auth Logs",
          "type": "logs"
        },
    
        {"gridPos": {"h": 1, "w": 24, "x": 0, "y": 36}, "id": 203, "title": " Security Events & Failed Attempts", "type": "row"},
        {
          "datasource": {"type": "loki", "uid": "loki"},
          "gridPos": {"h": 8, "w": 24, "x": 0, "y": 37},
          "id": 30,
          "options": {"dedupStrategy": "none", "enableLogDetails": true, "prettifyLogMessage": false, "showCommonLabels": false, "showLabels": true, "showTime": true, "sortOrder": "Descending", "wrapLogMessage": false},
          "targets": [{"expr": "{job=~\".+\"} |~ \"(?i)(failed|denied|unauthorized|forbidden|invalid|rejected|blocked|attack|intrusion|suspicious|brute)\"", "refId": "A"}],
          "title": "Security Events (Failed/Denied/Blocked)",
          "type": "logs"
        }
      ],
      "refresh": "30s",
      "schemaVersion": 38,
      "tags": ["security", "logins", "authentication"],
      "time": {"from": "now-6h", "to": "now"},
      "title": "security-logins",
      "uid": "security-logins",
      "version": 1
    }
